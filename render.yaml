services:
  - type: web
    name: frags
    runtime: python
    buildCommand: pip install -e .
    startCommand: alembic upgrade head && python -m uvicorn synth_engine.api.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: SYNTH_DATABASE_URL
        sync: false
      - key: SYNTH_JWT_SECRET
        generateValue: true
      - key: SYNTH_JWT_ALGORITHM
        value: HS256
      - key: SYNTH_BACKEND_HMAC_SECRET
        sync: false
      - key: SYNTH_DEV_ADMIN_ENABLED
        value: "true"
      - key: SYNTH_DEV_ADMIN_TOKEN
        sync: false
      - key: SYNTH_DEV_ADMIN_EMAIL
        sync: false
      - key: SYNTH_TURNSTILE_ENABLED
        value: "true"
      - key: SYNTH_TURNSTILE_SECRET_KEY
        sync: false
        
